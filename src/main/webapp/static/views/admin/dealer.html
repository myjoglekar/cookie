<style>    

::-moz-focus-inner { 
  padding: 0;
  border: 0;
}
.copied::after {
position: absolute;
  top: 50%;
  display: block;
  content: "copied";
  font-size: 0.75em;
  padding: 2px 3px;
  color: #fff;
  background-color: #4cd964;
  border-radius: 3px;
  opacity: 0;
  will-change: opacity, transform;
  animation: showcopied 1.5s ease;
}

@keyframes showcopied {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  70% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
  }
}
</style>



<div class="section-header">
    <h1 class="h3 section-text">DEALER</h1>
</div>
<div class="bg-white clearfix">
    <div class="pull-left dropdown no-m no-p" uib-dropdown col-sm-4>
        <button class="btn btn-default no-border-i box-border-r-light dropdown-toggle no-b-rad-i" uib-dropdown-toggle>
            Columns <i class="fa fa-angle-double-down"></i>
        </button>
        <ul uib-dropdown-menu class="dropdown-menu dropdown-alt">
            <li><a data-ng-click ="showDealerName = !showDealerName"><i class="fa" data-ng-class="{'fa-check':!showDealerName, 'fa-times':showDealerName}"></i> Dealer Name </a></li>
            <li><a data-ng-click ="showWebsite = !showWebsite"><i class="fa" data-ng-class="{'fa-check':!showWebsite, 'fa-times':showWebsite}"></i> Website </a></li>
            <li><a data-ng-click ="showEmail = !showEmail"><i class="fa" data-ng-class="{'fa-check':!showEmail, 'fa-times':showEmail}"></i> Email </a></li>                   
            <li><a data-ng-click ="showLastSiteVisit =!showLastSiteVisit"><i class="fa" data-ng-class="{'fa-check':!showLastSiteVisit, 'fa-times':showLastSiteVisit}"></i> Last Site Visit </a></li>
        </ul>
    </div>
    <div class="col-sm-10">
        <input type="text" class="form-control no-border no-bg no-shadow" placeholder="Search..." data-ng-model="search">
    </div> 
</div>
<div class="wrapper" data-ng-controller="DealerController">
    <div class="panel panel-default">
        <div class="panel-body no-p">
            <div class="table-container">
                <table st-table="dealer" class="table table-striped no-m">
                    <thead>
                        <tr>
                            <th data-ng-hide="showDealerName" data-ng-click="changeSorting('dealerName');
                                                dealerName = !dealerName" style="cursor: pointer">
                                Dealer Name
                                <i class="fa pull-right" data-ng-class="{'fa-caret-down':!dealerName, 'fa-caret-up':dealerName}"></i>
                            </th>
                            <th data-ng-hide="showWebsite" data-ng-click="changeSorting('website');
                                                website = !website" style="cursor: pointer">
                                Website
                                <i class="fa pull-right" data-ng-class="{'fa-caret-down':!website, 'fa-caret-up':website}"></i>
                            </th>
                            <th data-ng-hide="showEmail" data-ng-click="changeSorting('email');
                                                email = !email" style="cursor: pointer">
                                Email
                                <i class="fa pull-right" data-ng-class="{'fa-caret-down':!email, 'fa-caret-up':email}"></i>
                            </th>
                            <th data-ng-hide="showLastSiteVisit" data-ng-click="changeSorting('lastSiteVisit');
                                        lastSiteVisit=!lastSiteVisit" style="cursor: pointer">
                                Last Site Visit
                                <i class="fa pull-right" data-ng-class="{'fa-caret-down':!lastSiteVisit, 'fa-caret-up':lastSiteVisit}"</i>
                            </th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="dealer in dealers| orderBy:sort.column:sort.descending | filter:search">
                            <td data-ng-hide="showDealerName">{{dealer.dealerName}}</td>
                            <td data-ng-hide="showWebsite">{{dealer.website}}</td>
                            <td data-ng-hide="showEmail">{{dealer.email}}</td>
                            <td data-ng-hide="showLastSiteVisit">{{dealer.lastSiteVisit | date: "yyyy/MM/dd hh:mm:ss"}}</td>
                            <td>
                                <button class="btn btn-info btn-sm pull-right" data-toggle="modal" data-target="#viewIcon{{dealer.id}}"> View</button>
                                <div class="modal fade" id="viewIcon{{dealer.id}}" role="dialog">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header bg-grey-lt-lt b-rad-r-l-6">
                                                <h5 class="pull-left">Copy this code and paste in dealer site</h5>
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            </div>
                                            <div class="modal-body">
                                                <form role="form" class="form-horizontal">
                                                    <div class="form-group">
                                                        <span class="col-sm-6">
                                                            Dealer Name : <label><i>{{dealer.dealerName}}</i></label>
                                                        </span>
                                                        <span class="col-sm-6 text-right">
                                                            Website : <label><i>{{dealer.website}}</i></label>
                                                        </span>                                                                                                       
                                                    </div>
                                                    <div>
                                                        
                                                        <textarea class="form-control text-style" id="copyText" style="height: 370px;" readonly="true">
<script src="//ec2-52-88-45-181.us-west-2.compute.amazonaws.com:8080/webanalytics/fingerprint2.js"></script>
<script type="text/javascript">
var _paq = _paq || [];
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);
(function () {
    var u = "//ec2-52-88-45-181.us-west-2.compute.amazonaws.com:8080/webanalytics/";
    _paq.push(['setTrackerUrl', u + '/admin/wa']);
    _paq.push(['setSiteId', '{{dealer.id}}']);
    var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
    g.type = 'text/javascript';
    g.async = true;
    g.defer = true;
    g.src = u + 'wa.js';
    s.parentNode.insertBefore(g, s);
})();
</script>
                                                        </textarea>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="modal-footer">
                                                <button class="btn btn-success btn-sm" data-copytarget="#copyText"><i class="fa fa-clipboard"></i> Copy</button>
                                                <button class="btn btn-warning btn-sm" data-dismiss="modal"><i class="fa fa-remove"></i> Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

