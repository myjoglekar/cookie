<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<div class="tab-pane fade in active" ng-controller="SummaryController">
    <div class="row row-padding">
        <div class="col-sm-4">
            <div class="panel panel-default relative pnl-aln">
                <div class="m-b-10">
                    <i class="fa fa-circle" style="color: #86c0ba"></i> 
                    Visits
                </div>
                <div>
                    <span class="text-lg" style="color: #86c0ba">{{totalVisits}}</span>
                    <span class="label {{0 < (totalVisits - yesterdayVisits) ? 'label-success' : 'label-danger'}} pull-right inline m-l-10">
                        {{totalVisits - yesterdayVisits}}
                    </span>
                    <span class="pull-right"></span>
                </div>                                
            </div>
        </div>
        <div class="col-sm-4">
            <div class="panel panel-default relative pnl-aln">
                <div class="m-b-10">
                    <i class="fa fa-circle" style="color:#DB9090;"></i> 
                    Users
                </div>
                <div>
                    <span class="text-lg" style="color:#DB9090;">{{uniqueUserCount}}</span>
                    <span class="label {{0 < (uniqueUserCount - yesterdayUniqueUserCount) ? 'label-success' : 'label-danger'}} pull-right inline m-l-10">
                        {{uniqueUserCount - yesterdayUniqueUserCount}}
                    </span>
                    <span class="pull-right"></span>
                </div> 
            </div>
        </div>
        <div class="col-sm-4">
            <div class="panel panel-default relative pnl-aln">
                <div class="m-b-10">
                    <i class="fa fa-circle text-warning"></i> 
                    Conversions
                </div>
                <div>
                    <span class="text-warning text-lg">{{formFilled}}</span>
                    <span class="label {{0 < (formFilled - yesterdayFormFilled) ? 'label-success' : 'label-danger'}} pull-right inline m-l-10">
                        {{formFilled - yesterdayFormFilled}}
                    </span>
                    <span class="pull-right"></span>
                </div> 
            </div>
        </div>
    </div>
    <div class="row row-padding">
        <div class="col-sm-8">
            <div class="panel panel-default pnl-aln-table">
                <div class="panel-heading">          
                    <i class="fa fa-bar-chart"></i> No.0f Times User Visit
                </div>
                <div class="panel-body pnl-aln-tab-bo chart-responsive">
                    <!--style="margin-top: 36px; height: 204px;"-->
                    <div id="chart"><svg></svg></div>
                </div> 
            </div>
        </div>

        <div class="col-sm-4">
            <div class="panel panel-default pnl-aln-table">
                <div class="panel-heading">
                    <i class="fa fa-clock-o"></i> Average Timing Per Visit
                </div>
                <div class="panel-body pnl-aln-tab-bo">
                    <table class="table table-striped table-response table-hover">
                        <thead>
                            <tr>
                                <th>No. Of Times User Visited</th>
                                <th>Avg. Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="conversionFrequency in conversionFrequencies" ng-hide="conversionFrequencyEmptyMessage">
                                <td>{{conversionFrequency.noOfTimes}}</td>                                                      
                                <td>{{conversionFrequency.avgDays | setDecimal: 2}}</td>
                            </tr>
                            <tr ng-show="conversionFrequencyEmptyMessage">
                                <td>
                                    <button type="button" class="btn btn-block btn-warning btn-flat">{{conversionFrequencyErrorMessage}}</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="row row-padding"> 
        <div class="col-sm-6">
            <div class="panel panel-default pnl-aln-table">
                <div class="panel-heading">
                    <i class="fa fa-desktop"></i> Device Performance
                </div>
                <div class="panel-body pnl-aln-tab-bo">
                    <div class="panel-body pnl-aln-tab-bo">
                        <div class="box-body chart-responsive">
                            <div id="pieChart"></div>
                        </div>
                    </div> 
                </div>
            </div>
        </div> 
        <div class="col-sm-6">
            <div class="panel panel-default pnl-aln-table">
                <div class="panel-heading">
                    <i class="fa fa-building"></i> Top City
                </div>
                <div class="panel-body pnl-aln-tab-bo">
                    <div class="row no-m">
                        <div class="no-p">
                            <table class="table table-striped table-response table-hover">
                                <thead>
                                    <tr>
                                        <th>City</th>
                                        <th>Visits</th>
                                        <th>User Count</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="geoCity in geoCities| orderBy:'-visitCount'" ng-hide="geoReportEmptyMessage">
                                        <td>{{geoCity.city}}</td>
                                        <td>{{geoCity.visitCount}}</td>
                                        <td>{{geoCity.uniqueUserCount}}</td>
                                    </tr>
                                    <tr ng-show="geoReportEmptyMessage">
                                        <td>
                                            <button type="button" class="btn btn-block btn-warning btn-flat">{{geoReportErrorMessage}}</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

